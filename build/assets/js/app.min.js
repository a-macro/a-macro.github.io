"use strict";function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}document.addEventListener("DOMContentLoaded",function(){var o=document.querySelector("body");setTimeout(function(){document.querySelector("main").style.display="flex";var t,n,e=document.querySelectorAll(".submenu"),e=(e&&0<e.length&&e.forEach(function(e){e.style.setProperty("--maxH",e.scrollHeight+"px")}),window.location.hash),o=document.querySelectorAll(".current .submenu__link"),r=document.querySelector(".current"),c=document.querySelector(".menu__inner"),s=r.getBoundingClientRect().top+r.getBoundingClientRect().height,s=window.innerHeight-s;s<0&&(r.getBoundingClientRect().height<window.innerHeight?c.scrollTop=-1*s+10:c.scrollTop=r.getBoundingClientRect().top-20),e&&"#"!=e?(window.pageYOffset,t=e.split("#")[1],document.getElementById(t).getBoundingClientRect().top,o.forEach(function(e){e.getAttribute("href").includes(t)&&(n=e,setTimeout(function(){var e=new Event("click",{bubbles:!0});n.dispatchEvent(e)},500))}),(s=document.querySelector(".currentTab"))&&n!=s&&s.classList.remove("currentTab"),n.classList.add("currentTab"),setTimeout(function(){new f},300)):new f},0);var n=window.innerHeight,r=(document.documentElement.style.setProperty("--h",n+"px"),document.querySelector(".menu__search")),c=document.querySelector(".search-field"),t=document.querySelector(".search-field__inp");r&&(r.onclick=function(e){e.preventDefault(),r.classList.toggle("open"),c.classList.toggle("open"),t.focus(),scrollLock.addScrollableSelector(".search-result"),scrollLock.disablePageScroll(document.querySelector(".search-result-container")),window.innerWidth<=1024?s.classList.contains("open")&&s.classList.remove("open"):o.classList.toggle("menu-open")});var e=document.querySelector(".burger"),s=document.querySelector(".menu");function i(){s.classList.remove("open"),scrollLock.enablePageScroll(s),o.classList.remove("menu-open")}function l(){var e,t;window.innerWidth<=1024?(e=h.getBoundingClientRect().top,h.style.cssText="max-height: ".concat(n-e,"px")):(e=h.getBoundingClientRect().top,t=p.getBoundingClientRect().height,h.style.cssText="max-height: ".concat(n-e-t,"px"))}e&&(e.onclick=function(e){s.classList.add("open"),scrollLock.disablePageScroll(s),o.classList.add("menu-open")});var a,u,d=document.querySelector(".search-field__form"),h=document.querySelector(".search-result"),m=new IntersectionObserver(function(e){e.forEach(function(e){var t=e.target;t.classList.contains("video")&&(e.isIntersecting?t.play():t.pause()),t.classList.contains("intro")&&e.isIntersecting&&history.pushState("",document.title,window.location.pathname)})}),e=document.querySelector(".intro"),e=(e&&m.observe(e),document.querySelectorAll("video")),f=(0<e.length&&e.forEach(function(e){m.observe(e)}),function(){function n(){var e=this,t=(_classCallCheck(this,n),this.currentId=null,this.currentTab=null,this.tabContainerHeight=70,this);$(".current .submenu__link").click(function(){t.onTabClick(event,event.target)}),$(window).scroll(function(){e.onScroll()}),$(window).resize(function(){e.onResize()}),this.findCurrentTabSelector()}return _createClass(n,[{key:"onTabClick",value:function(e,t){e.preventDefault(),i();var n,o,r=window.pageYOffset,c=t.getAttribute("href"),e=c.split("#")[1],t=document.getElementById(e);t&&(n=function e(t){var n,t=t-(u=null===u?t:u),t=a<0?Math.max(r-t/.1,r+a):Math.min(r+t/.1,r+a);window.scrollTo(0,t),t!=r+a?requestAnimationFrame(e):(cancelAnimationFrame(o),t=document.querySelector("a[href='".concat(c,"']")),(n=document.querySelector(".currentTab"))&&t!=n&&n.classList.remove("currentTab"),t.classList.add("currentTab"))},a=+t.getBoundingClientRect().top+2,u=null,window.location.hash="#"+e,o=requestAnimationFrame(n))}},{key:"onScroll",value:function(){this.checkTabContainerPosition(),this.findCurrentTabSelector()}},{key:"onResize",value:function(){this.currentId&&this.setSliderCss()}},{key:"checkTabContainerPosition",value:function(){}},{key:"findCurrentTabSelector",value:function(e){var r;$(".current .submenu__link").each(function(){var e,t=$(this).attr("href"),n=t.split("#")[1],o="#"+n;"#"!=t&&document.getElementById(n)&&(e=$(o).offset().top,o=$(o).offset().top+$(o).height(),$(window).scrollTop()>e)&&$(window).scrollTop()<o&&(r=document.querySelector("a[href='".concat(t,"']")),(e=document.querySelector(".currentTab"))&&r!=e&&e.classList.remove("currentTab"),r&&(r.classList.add("currentTab"),(o=document.getElementById(n)).id="",window.location.hash=n,o.id=n),window.innerHeight+window.pageYOffset>=document.body.offsetHeight)&&(o=(e=(t=document.querySelector(".nav__item.current .submenu").lastElementChild.querySelector("a")).getAttribute("href")).split("#")[1],n=document.querySelector(".currentTab"),r=t,n&&r!=n&&n.classList.remove("currentTab"),r)&&(r.classList.add("currentTab"),(e=document.getElementById(o)).id="",window.location.hash=o,e.id=o)})}},{key:"setSliderCss",value:function(){}}]),n}()),e=(document.querySelector(".search__button_res"),document.querySelector(".search__button_sub"),t.oninput=function(e){t.value||(h=document.querySelector(".search-result"),c.className="search-field",c.classList.add("open"))},d&&(d.onsubmit=function(e){e.preventDefault(),h=document.querySelector(".search-result"),t.value&&(c.classList.add("show-results"),window.innerWidth<=1024)&&l()},d.onreset=function(e){e.preventDefault(),(h=document.querySelector(".search-result"))&&h.removeAttribute("style"),c.classList.remove("show-results"),g(),d.reset()}),document.querySelectorAll(".colors__block")),e=(0<e.length&&e.forEach(function(e){var t=e.querySelectorAll(".colors__el").length;e.setAttribute("data-num",t),e.style.cssText="--len: ".concat(t)}),document.querySelectorAll(".colors__el"));function g(){var e=document.querySelectorAll(".search-result__el");if(e&&0<e.length&&1919<window.innerWidth)for(var t=0;t<e.length;t++)3<=t&&e[t].classList.add("hide");else if(e&&0<e.length&&1024<window.innerWidth)for(var n=0;n<e.length;n++)2<=n&&e[n].classList.add("hide")}e&&0<e.length&&e.forEach(function(t){var n=t.closest(".colors__block");t.onmouseenter=function(e){t.classList.contains("active")||(n.querySelector(".colors__el.active").classList.remove("active"),t.classList.add("active"))},t.onclick=function(e){t.classList.contains("active")||(n.querySelector(".colors__el.active").classList.remove("active"),t.classList.add("active"))}}),g();var y,p=document.querySelector(".search-result__show"),e=(p&&(p.onclick=function(e){e.preventDefault(),document.querySelector(".search-result__show").style.display="none",l(),c.classList.add("show-all"),(e=document.querySelectorAll(".search-result__el.hide"))&&0<e.length&&e.forEach(function(e){e.classList.remove("hide")})}),document.querySelectorAll(".swiper-container")),e=(e&&0<e.length&&e.forEach(function(n){setTimeout(function(){var e=n.querySelector(".swiper-button-prev"),t=n.querySelector(".swiper-button-next");new Swiper(n,(_defineProperty(t={navigation:{nextEl:t,prevEl:e},loop:!1,freeMode:!0,spaceBetween:0,slidesPerView:"auto"},"freeMode",!1),_defineProperty(t,"allowTouchMove",!0),t))},500)}),document.querySelectorAll(".color-copy")),e=(e&&0<e.length&&e.forEach(function(t){t.onclick=function(e){e.preventDefault(),e.stopPropagation(),navigator.clipboard.writeText("".concat(t.getAttribute("data-copy")))}}),document.querySelectorAll(".nav__link")),v=(e&&0<e.length&&e.forEach(function(e){}),o.onclick=function(e){var t=e.target.closest(".menu"),n=e.target.closest(".search-field");!o.classList.contains("menu-open")||e.target.classList.contains("burger")||e.target.classList.contains("burger__svg")||t||e.target.classList.contains("menu")||e.target.classList.contains("search-field")||n||(e.preventDefault(),i()),!c||!c.classList.contains("open")||e.target.classList.contains("burger")||e.target.classList.contains("burger__svg")||t||e.target.classList.contains("menu")||e.target.classList.contains("search-field")||n||(c.className="search-field",c.classList.remove("open"),h&&h.removeAttribute("style"),r.classList.remove("open"),o.classList.remove("menu-open"),d.reset(),i())},document.querySelector(".search-result-container"));v&&(y={childList:!0,subtree:!0},new MutationObserver(function(e,t){e.forEach(function(e){var n;e.target==v&&(n=document.querySelector(".search-result__show"),c=document.querySelector(".search-field"),h=document.querySelector(".search-result"),g(),n&&(n.onclick=function(e){e.preventDefault(),window.innerWidth<=1024?(e=h.getBoundingClientRect().top,h.style.cssText="max-height: ".concat(window.innerHeight-e,"px")):(e=h.getBoundingClientRect().top,t=n.getBoundingClientRect().height,h.style.cssText="max-height: ".concat(window.innerHeight-e-t,"px")),c.classList.add("show-all"),n.style.display="none";var t,e=document.querySelectorAll(".search-result__el.hide");e&&0<e.length&&e.forEach(function(e){e.classList.remove("hide")})}),(e=document.querySelectorAll(".search-result__el_arrow"))&&e.forEach(function(e){e.onclick=function(e){c.className="search-field",c.classList.remove("open"),h&&h.removeAttribute("style"),r.classList.remove("open"),o.classList.remove("menu-open"),d.reset(),i()}}),t.disconnect(),t.observe(v,y))})}).observe(v,y)),window.onresize=function(e){var t=document.querySelectorAll(".submenu");t&&0<t.length&&t.forEach(function(e){e.style.setProperty("--maxH",e.scrollHeight+"px")}),n=window.innerHeight,document.documentElement.style.setProperty("--h",n+"px")}});